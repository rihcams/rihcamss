const db = require('../index.js')
const err = require('./Errors.js')
const chalk = require('chalk')



async function arrayDeleteVal(arr,val) {
    if(!arr || !val ) throw err('Parametreleri girin...!')
    const data = await db.fetch(arr)
    if(Array.isArray(data) == false ) throw err('Veri Array olmak zorundadır..!')
    if(await db.arrayHas(arr,val) == false) throw err("Array'de böyle veri yok silemiyorum..!")
    var newArr = []
    data.filter(a=> a != val)
    .forEach(a=>newArr.push(a))
    await db.set(arr,newArr)
    return console.log(chalk.green('Succesfull'))
    
}


module.exports = arrayDeleteVal